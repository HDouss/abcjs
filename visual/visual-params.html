<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Visual Params | abcjs</title>
    <meta name="description" content="JavaScript library for displaying sheet music in a browser.">
    
    
    <link rel="preload" href="/abcjs/assets/css/0.styles.7b5c5e7f.css" as="style"><link rel="preload" href="/abcjs/assets/js/app.7369ca9a.js" as="script"><link rel="preload" href="/abcjs/assets/js/5.0211c3b1.js" as="script"><link rel="preload" href="/abcjs/assets/js/33.9499e32e.js" as="script"><link rel="prefetch" href="/abcjs/assets/js/1.1927cdbd.js"><link rel="prefetch" href="/abcjs/assets/js/10.79a9d89c.js"><link rel="prefetch" href="/abcjs/assets/js/11.1c81ad72.js"><link rel="prefetch" href="/abcjs/assets/js/12.c0898e3f.js"><link rel="prefetch" href="/abcjs/assets/js/13.45f09df1.js"><link rel="prefetch" href="/abcjs/assets/js/14.79116f11.js"><link rel="prefetch" href="/abcjs/assets/js/15.f68724d4.js"><link rel="prefetch" href="/abcjs/assets/js/16.ebac53b5.js"><link rel="prefetch" href="/abcjs/assets/js/17.96df8a9f.js"><link rel="prefetch" href="/abcjs/assets/js/18.c2f43d71.js"><link rel="prefetch" href="/abcjs/assets/js/19.bc86959d.js"><link rel="prefetch" href="/abcjs/assets/js/2.6fb7082d.js"><link rel="prefetch" href="/abcjs/assets/js/20.71f605dc.js"><link rel="prefetch" href="/abcjs/assets/js/21.5620cc7b.js"><link rel="prefetch" href="/abcjs/assets/js/22.3966a2f1.js"><link rel="prefetch" href="/abcjs/assets/js/23.8daa5698.js"><link rel="prefetch" href="/abcjs/assets/js/24.8914b09a.js"><link rel="prefetch" href="/abcjs/assets/js/25.14e4ed63.js"><link rel="prefetch" href="/abcjs/assets/js/26.9a132637.js"><link rel="prefetch" href="/abcjs/assets/js/27.d1466655.js"><link rel="prefetch" href="/abcjs/assets/js/28.c06bbfc9.js"><link rel="prefetch" href="/abcjs/assets/js/29.03f2c938.js"><link rel="prefetch" href="/abcjs/assets/js/30.3fa275e8.js"><link rel="prefetch" href="/abcjs/assets/js/31.1de718e9.js"><link rel="prefetch" href="/abcjs/assets/js/32.397a257f.js"><link rel="prefetch" href="/abcjs/assets/js/34.4f8bc174.js"><link rel="prefetch" href="/abcjs/assets/js/4.6936b659.js"><link rel="prefetch" href="/abcjs/assets/js/6.fada7c99.js"><link rel="prefetch" href="/abcjs/assets/js/7.1b2ad86d.js"><link rel="prefetch" href="/abcjs/assets/js/8.ebf8d921.js"><link rel="prefetch" href="/abcjs/assets/js/9.e4557088.js">
    <link rel="stylesheet" href="/abcjs/assets/css/0.styles.7b5c5e7f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/abcjs/" class="home-link router-link-active"><img src="/abcjs/img/abcjs_comp_extended_08.svg" alt="abcjs" class="logo"> <span class="site-name can-hide">abcjs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Overview</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Visual</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/abcjs/visual/visual-params.html" class="active sidebar-link">Visual Params</a></li><li><a href="/abcjs/visual/classes.html" class="sidebar-link">Classes</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/abcjs/visual/classes.html#class-names" class="sidebar-link">Class Names</a></li><li class="sidebar-sub-header"><a href="/abcjs/visual/classes.html#test-tune" class="sidebar-link">Test Tune</a></li><li class="sidebar-sub-header"><a href="/abcjs/visual/classes.html#found-classes" class="sidebar-link">Found Classes</a></li><li class="sidebar-sub-header"><a href="/abcjs/visual/classes.html#css-possibilities" class="sidebar-link">CSS Possibilities</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Audio</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Animation</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Interactive</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Analysis</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Developers</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Upgrading</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="visual-params"><a href="#visual-params" class="header-anchor">#</a> Visual Params</h1> <div class="custom-block tip"><p class="custom-block-title">TODO</p> <p>This page is currently being enhanced. Check back soon!</p></div> <p>The main entry point is <code>ABCJS.renderAbc</code>. Many users won't need to make any other call. That is enough to turn an arbitrary JavaScript string into an SVG image of sheet music.</p> <table><thead><tr><th>ABCJS Entry Points</th> <th>Description</th></tr></thead> <tbody><tr><td><code>integer = ABCJS.numberOfTunes(tunebookString)</code></td> <td>Returns the number of tunes found in the tunebook.</td></tr> <tr><td><code>tunebook = new ABCJS.TuneBook(tunebookString)</code></td> <td>Returns a <code>TuneBook</code> object, describing the tunebook passed in.</td></tr> <tr><td><code>tuneObjectArray = ABCJS.renderAbc(output, tunebookString, params)</code></td> <td>Completely renders the tunebook.</td></tr> <tr><td><code>tuneObjectArray = ABCJS.renderMidi(output, tunebookString, params)</code></td> <td>Completely creates midi for the tunebook. Note: this is deprecated in favor of <a href="/abcjs/visual/synth.html">Synth Documentation</a>.</td></tr> <tr><td><code>tuneObjectArray = ABCJS.parseOnly(tunebookString, params)</code></td> <td>Parses all the tunes in the tunebookString and returns an array of them parsed structure.</td></tr> <tr><td><code>ABCJS.startAnimation(outputElement, tuneObject, animationParams)</code></td> <td>Puts an animated cursor on the rendered music. Note: this is deprecated in favor of <code>TimingCallbacks</code>.</td></tr> <tr><td><code>ABCJS.stopAnimation()</code></td> <td>Stops the animation that was started with <code>startAnimation</code>.</td></tr> <tr><td><code>ABCJS.pauseAnimation(pause)</code></td> <td>Pauses/resumes the animation that was started with <code>startAnimation</code>. Pass <code>true</code> or <code>false</code> to pause or resume.</td></tr> <tr><td><code>ABCJS.midi.deviceSupportsMidi()</code></td> <td>Returns true if the device and browser is capable of playing MIDI.</td></tr> <tr><td><code>ABCJS.midi.setSoundFont(url)</code></td> <td>Sets an alternate location for the soundfont.</td></tr> <tr><td><code>ABCJS.midi.startPlaying(targetEl)</code></td> <td>Starts playing the MIDI for the element passed in. If the element is already playing, this pauses it.</td></tr> <tr><td><code>ABCJS.midi.stopPlaying()</code></td> <td>Stops playing whatever is currently playing.</td></tr> <tr><td><code>ABCJS.midi.restartPlaying()</code></td> <td>Moves the progress back to the beginning for whatever is currently playing.</td></tr> <tr><td><code>ABCJS.midi.setRandomProgress(percent)</code></td> <td>Moves the progress to whatever percent is passed in for whatever is currently playing.</td></tr> <tr><td><code>ABCJS.midi.setLoop(targetEl, state)</code></td> <td>Sets the &quot;loop&quot; mode for the element passed in. State should be true or false.</td></tr> <tr><td><code>new abcjs.TimingCallbacks(outputElement, timingParams)</code></td> <td>returns an object with the properties <code>start()</code>, <code>stop()</code>, <code>pause()</code>, <code>reset()</code>, <code>setProgress(percent)</code>. This will cause callback functions to be called for each beat and for each note. (see timingParams for more details)</td></tr> <tr><td><code>abcjs.extractMeasures(tunebookString);</code></td> <td>This returns an array of all the individual measures found in the music.</td></tr> <tr><td><code>abcjs.synth</code></td> <td>This is for creating audio. See <a href="/abcjs/visual/synth.html">Synth Documentation</a> for details.</td></tr></tbody></table> <table><thead><tr><th>Parameters</th> <th>Description</th></tr></thead> <tbody><tr><td><code>tunebookString</code></td> <td>A plain text string in ABC syntax that corresponds to either a single ABC tune or a list of ABC tunes.</td></tr> <tr><td><code>output</code></td> <td>If this is a string, it is the ID of an element on the DOM. Or it could be the DOM element itself. Or it could be an array of strings or DOM elements. In the case of <code>renderMidi()</code>, when both MIDI types are created, they are both created in the same element.</td></tr> <tr><td><code>outputElement</code></td> <td>This is the DOM element that was originally passed in when the tune was rendered.</td></tr> <tr><td><code>tuneObject</code></td> <td>This is the object that is created by the rendering process.</td></tr> <tr><td><code>tuneObjectArray</code></td> <td>An array of <code>tuneObject</code>.</td></tr> <tr><td><code>params</code></td> <td>A hash of values. See below for the possible keys.</td></tr></tbody></table> <table><thead><tr><th><code>params</code> (for parser)</th> <th>Default</th> <th>Description</th></tr></thead> <tbody><tr><td><code>visualTranspose</code></td> <td>0</td> <td>Transposes the written music by the number of half-steps passed. Use a negative number to transpose down in pitch.</td></tr> <tr><td><code>print</code></td> <td>false</td> <td>pay attention to margins and other formatting commands that don't make sense in a web page</td></tr> <tr><td><code>header_only</code></td> <td>false</td> <td>only parse the header</td></tr> <tr><td><code>stop_on_warning</code></td> <td>false</td> <td>only parse until the first warning is encountered</td></tr> <tr><td><code>hint_measures</code></td> <td>false</td> <td>repeat the next measure at the end of the previous line, with a unique css class.</td></tr> <tr><td><code>wrap</code></td> <td>null</td> <td>NOTE: this requires the parameter <code>staffwidth</code> to be set! To have the parser ignore the line breaks, and figure out the line breaks based on the size of each measure. This is an object of: <code>preferredMeasuresPerLine</code>: How many measures per line if there is room. If there isn't room, then use the rest of the parameters. This is optional.  <code>minSpacing</code>: 1 means to pack the notes as close as possible, 2 means to double the spacing, etc., <code>maxSpacing</code>: if there is very little music and a wide line, then the line is shortened so the notes are not too spread out, <code>lastLineLimit</code>: if it works out that there is a single measure on the last line, then try different <code>minSpacing</code> values until the last line is no more spread out than this limit. <code>targetHeight</code>: [Not yet implemented]. A reasonable default for these values is <code>{ minSpacing: 1.8, maxSpacing: 2.7, preferredMeasuresPerLine: 4 }</code>.</td></tr></tbody></table> <table><thead><tr><th><code>params</code> (for engraver)</th> <th>Default</th> <th>Description</th></tr></thead> <tbody><tr><td><code>scale</code></td> <td>1</td> <td>If the number passed is between zero and one, then the music is printed smaller, if above one, then it is printed bigger.</td></tr> <tr><td><code>staffwidth</code></td> <td>740</td> <td>The width of the music, in pixels.</td></tr> <tr><td><code>paddingtop</code></td> <td>15</td> <td>The spacing that the music should have on the web page.</td></tr> <tr><td><code>paddingbottom</code></td> <td>30</td> <td>The spacing that the music should have on the web page.</td></tr> <tr><td><code>paddingright</code></td> <td>50</td> <td>The spacing that the music should have on the web page.</td></tr> <tr><td><code>paddingleft</code></td> <td>15</td> <td>The spacing that the music should have on the web page.</td></tr> <tr><td><code>add_classes</code></td> <td>false</td> <td>If true, then each element that is drawn on the SVG will have an identifying class with it that you can use to style, move, or hide the element.</td></tr> <tr><td><code>clickListener</code></td> <td>null</td> <td>Callback function. The format is: <code>function(abcElem, tuneNumber, classes) {}</code> This is called whenever the user clicks on a note or selects a series of notes.</td></tr> <tr><td><code>responsive</code></td> <td>undefined</td> <td>The strategy for responsiveness. <code>&quot;resize&quot;</code> will make the svg take up whatever width is available for the container.</td></tr></tbody></table> <table><thead><tr><th><code>renderParams</code></th> <th>Default</th> <th>Description</th></tr></thead> <tbody><tr><td><code>startingTune</code></td> <td>0</td> <td>The index of the tune in the tunebook to render (starting at zero for the first tune).</td></tr> <tr><td><code>viewportHorizontal</code></td> <td>false</td> <td>Should the horizontal width be limited by the device's width?</td></tr> <tr><td><code>scrollHorizontal</code></td> <td>false</td> <td>Should there be a horizontal scrollbar if the music is wider than the viewport? (requires viewportHorizontal to be true.)</td></tr> <tr><td><code>oneSvgPerLine</code></td> <td>false</td> <td>Should each system of staves be rendered to a different SVG? This makes controlling with CSS easier, and makes it possible to paginate cleanly.</td></tr></tbody></table> <p><code>tuneObject</code> contains a structure which is a machine-friendly version of the abc string that it was created from. It is the class <code>ABCJS.data.Tune</code> and is basically some meta-information and an array of each line in the tune. The format of that data is subject to change.</p> <p>If you want to do the calculations for rendering, but not have the music appear, use &quot;*&quot; for the output div. That will return the visualObj but not display it. This is useful if you want to process an ABC file just for audio or for analysis.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/abcjs/overview/abc-notation.html" class="prev">ABC Music Notation</a></span> <span class="next"><a href="/abcjs/visual/classes.html">Classes</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/abcjs/assets/js/app.7369ca9a.js" defer></script><script src="/abcjs/assets/js/5.0211c3b1.js" defer></script><script src="/abcjs/assets/js/33.9499e32e.js" defer></script>
  </body>
</html>
